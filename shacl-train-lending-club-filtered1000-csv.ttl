@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix schema: <http://schema.org/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ex: <http://example.org/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix fibo_loan: <https://spec.edmcouncil.org/fibo/ontology/LOAN/LoansGeneral/LoanApplications/> .
@prefix wiki: <https://www.wikidata.org/wiki/> .
@prefix fibo: <https://spec.edmcouncil.org/fibo/ontology/> .
@prefix local: <http://localhost:3333/> .

ex:Requester            a rdfs:Class .
ex:LoanApplication     a rdfs:Class .

ex:RequesterShape a sh:NodeShape ;
	sh:targetClass <fibo:FND/Arrangements/Reporting/Requester> ;
	sh:name "Applicant" ;
	sh:property [
		sh:path local:has ;
		sh:name "Home ownership type" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:string ;
		sh:in (
			"MORTGAGE"
			"OWN"
			"RENT"
		) ;
	], [
		sh:path <fibo:FND/Organizations/FormalOrganizations/Employment> ;
		sh:name "Total employment duration in years" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
		sh:minInclusive 0 ;
	], [
		sh:path fibo_loan:IndividualPersonCreditRating ;
		sh:name "Minimum fico value" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
		sh:minInclusive 300 ;
		sh:maxInclusive 850 ;
	], [
		sh:path fibo_loan:IndividualPersonCreditRating ;
		sh:name "Maximum fico value" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
		sh:minInclusive 300 ;
		sh:maxInclusive 850 ;
	], [
		sh:path wiki:Q852446 ;
		sh:name "Address state" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:string ;
	], [
		sh:path fibo_loan:PublicRecord ;
		sh:name "Number of public records" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
		sh:minInclusive 0 ;
	], [
		sh:path fibo_loan:LoanApplication;
		sh:name "Application" ;
		sh:minCount 1 ;
		sh:nodeKind fibo_loan:LoanApplication ;
		sh:class fibo_loan:LoanApplication ;
	] .

ex:LoanApplicationShape a sh:NodeShape ;
	sh:targetClass fibo_loan:LoanApplication ;
	sh:name "Loan application" ;
	sh:property [
		sh:path owl:hasKey ;
		sh:name "owl:hasKey" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
	], [
		sh:path wiki:Q26726966 ;
		sh:name "Loan issue date" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:dateTime ;
	], [
		sh:path local:isVerified ;
		sh:name "Verification status" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:string ;
		sh:in (
			"Not Verified"
			"Source Verified"
			"Verified"
		) ;
	], [
		sh:path fibo_loan:LoanApplicationStatus ;
		sh:name "Loan approval status" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:boolean ;
	], [
		sh:path local:isOfType ;
		sh:name "Loan application type" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:string ;
		sh:in (
			"Individual"
			"Joint App"
		) ;
	], [
		sh:path <fibo:FND/Agreements/Contracts/hasContractDuration> ;
		sh:name "Loan term" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:int ;
		sh:minInclusive 1 ;
	], [
		sh:path <fibo:FBC/DebtAndEquities/Debt/hasInterestRate> ;
		sh:name "Loan interest rate" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:decimal ;
		sh:minInclusive "0.0"^^xsd:decimal ;
		sh:maxInclusive "1.0"^^xsd:decimal ;
	], [
		sh:path <fibo:FBC/DebtAndEquities/CreditRatings/CreditRatingScale?version=master/2025Q2> ;
		sh:name "Loan sub-grade" ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
		sh:datatype xsd:string ;
		sh:in (
			"A1"
			"A2"
			"A3"
			"A4"
			"A5"
			"B1"
			"B2"
			"B3"
			"B4"
			"B5"
			"C1"
			"C2"
			"C3"
			"C4"
			"C5"
			"D1"
			"D2"
			"D3"
			"D4"
			"D5"
			"E1"
			"E2"
			"E3"
			"E4"
			"E5"
			"F1"
			"F2"
			"F3"
			"F4"
			"F5"
			"G1"
			"G2"
			"G3"
			"G4"
			"G5"
		) ;
	] .


